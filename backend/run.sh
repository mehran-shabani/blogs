#!/bin/bash

# ??????? ?????????? Backend

echo "?? ?? ??? ?????????? Backend..."

# ????? ???? ???? ?????
if [ ! -d "venv" ]; then
    echo "?? ????? ???? ?????..."
    python -m venv venv
fi

# ????????? ???? ?????
echo "? ????????? ???? ?????..."
source venv/bin/activate

# ??? ??????????
echo "?? ??? ??????????..."
pip install -r requirements.txt

# ????? ???? .env
if [ ! -f ".env" ]; then
    echo "??  ???? .env ???? ???. ??? ?? .env.example..."
    cp .env.example .env
    echo "??  ????? ???? .env ?? ?? API Keys ????? ?????? ????"
fi

# ????? ????
echo "?? ????? ???? FastAPI..."
python main.py
